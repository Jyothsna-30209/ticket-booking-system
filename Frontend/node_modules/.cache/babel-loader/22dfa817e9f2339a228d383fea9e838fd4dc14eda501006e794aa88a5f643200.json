{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JYOTHSNA\\\\airline-reservation-springboot-react-psql\\\\Frontend\\\\src\\\\flight\\\\component\\\\DeleteFlights.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport FlightService from \"../service/FlightService\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DeleteFlights() {\n  _s();\n  const service = new FlightService();\n  const navigate = useNavigate();\n  const [flights, setFlights] = React.useState([]);\n  const [selectedFlightId, setSelectedFlightId] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n  React.useEffect(() => {\n    if (sessionStorage.getItem(\"userId\") == null) {\n      alert(\"Unauthorised Access to Page.\");\n      navigate(\"/login\");\n    }\n    service.getAllFlights().then(data => {\n      setFlights(data.data);\n      setLoading(false);\n    }).catch(() => {\n      setError(\"Unable to fetch flight data.\");\n      setLoading(false);\n    });\n  }, []);\n  const handleDelete = event => {\n    event.preventDefault();\n    if (!selectedFlightId) {\n      alert(\"Please select a flight to delete.\");\n      return;\n    }\n    const confirm = window.confirm(\"Are you sure you want to delete this flight?\");\n    if (!confirm) return;\n    service.deleteFlight(selectedFlightId).then(() => {\n      alert(\"Flight deleted successfully.\");\n      navigate(\"/flights\");\n    }).catch(() => {\n      alert(\"Error occurred while deleting the flight.\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"my-4 container col-md-6\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"border p-4 shadow rounded bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-4 text-danger text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-trash-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), \" Delete Flight\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 27\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-secondary\",\n        children: \"Loading flights...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Select Flight to Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-control\",\n          value: selectedFlightId,\n          onChange: e => setSelectedFlightId(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select a flight --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), flights.map(flight => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: flight.flightNumber,\n            children: [\"Flight \", flight.flightNumber, \" - \", flight.carrierName, \", \", flight.flightModel, \" (Seats: \", flight.seatCapacity, \")\"]\n          }, flight.flightNumber, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-danger mt-3 w-100\",\n        onClick: handleDelete,\n        disabled: loading,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-trash\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), \" Delete Flight\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(DeleteFlights, \"y8oVOrVYwV5W1TVb6GfK+zNZmU0=\", false, function () {\n  return [useNavigate];\n});\n_c = DeleteFlights;\nexport default DeleteFlights;\nvar _c;\n$RefreshReg$(_c, \"DeleteFlights\");","map":{"version":3,"names":["React","FlightService","useNavigate","DeleteFlights","service","navigate","flights","setFlights","useState","selectedFlightId","setSelectedFlightId","loading","setLoading","error","setError","useEffect","sessionStorage","getItem","alert","getAllFlights","then","data","catch","handleDelete","event","preventDefault","confirm","window","deleteFlight","e","target","value","map","flight","flightNumber","carrierName","flightModel","seatCapacity"],"sources":["C:/Users/JYOTHSNA/airline-reservation-springboot-react-psql/Frontend/src/flight/component/DeleteFlights.js"],"sourcesContent":["import React from \"react\";\r\nimport FlightService from \"../service/FlightService\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction DeleteFlights() {\r\n    const service = new FlightService();\r\n    const navigate = useNavigate();\r\n\r\n    const [flights, setFlights] = React.useState([]);\r\n    const [selectedFlightId, setSelectedFlightId] = React.useState(\"\");\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [error, setError] = React.useState(\"\");\r\n\r\n    React.useEffect(() => {\r\n        if (sessionStorage.getItem(\"userId\") == null) {\r\n            alert(\"Unauthorised Access to Page.\");\r\n            navigate(\"/login\");\r\n        }\r\n\r\n        service.getAllFlights()\r\n            .then((data) => {\r\n                setFlights(data.data);\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setError(\"Unable to fetch flight data.\");\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    const handleDelete = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (!selectedFlightId) {\r\n            alert(\"Please select a flight to delete.\");\r\n            return;\r\n        }\r\n\r\n        const confirm = window.confirm(\"Are you sure you want to delete this flight?\");\r\n        if (!confirm) return;\r\n\r\n        service.deleteFlight(selectedFlightId)\r\n            .then(() => {\r\n                alert(\"Flight deleted successfully.\");\r\n                navigate(\"/flights\");\r\n            })\r\n            .catch(() => {\r\n                alert(\"Error occurred while deleting the flight.\");\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"my-4 container col-md-6\">\r\n            <form className=\"border p-4 shadow rounded bg-light\">\r\n                <h2 className=\"mb-4 text-danger text-center\">\r\n                    <i className=\"fas fa-trash-alt\"></i> Delete Flight\r\n                </h2>\r\n\r\n                {error && <div className=\"alert alert-danger\">{error}</div>}\r\n                {loading ? (\r\n                    <div className=\"text-center text-secondary\">Loading flights...</div>\r\n                ) : (\r\n                    <div className=\"form-group\">\r\n                        <label><strong>Select Flight to Delete</strong></label>\r\n                        <select\r\n                            className=\"form-control\"\r\n                            value={selectedFlightId}\r\n                            onChange={(e) => setSelectedFlightId(e.target.value)}\r\n                        >\r\n                            <option value=\"\">-- Select a flight --</option>\r\n                            {flights.map((flight) => (\r\n                                <option key={flight.flightNumber} value={flight.flightNumber}>\r\n                                    Flight {flight.flightNumber} - {flight.carrierName}, {flight.flightModel} (Seats: {flight.seatCapacity})\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                )}\r\n\r\n                <button\r\n                    className=\"btn btn-danger mt-3 w-100\"\r\n                    onClick={handleDelete}\r\n                    disabled={loading}\r\n                >\r\n                    <i className=\"fas fa-trash\"></i> Delete Flight\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DeleteFlights;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}